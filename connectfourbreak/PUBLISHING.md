# Publishing and Updating the Connect Four Break Extension

This document outlines the steps to publish and update the Connect Four Break VS Code extension to the Visual Studio Marketplace.

## Prerequisites

1.  **Node.js and npm:** Ensure you have Node.js and npm installed.
2.  **`vsce` Tool:** Install the Visual Studio Code Extensions command-line tool globally:
    ```bash
    npm install -g @vscode/vsce
    ```
3.  **Publisher ID:** Create a publisher ID on the Visual Studio Marketplace via Azure DevOps. Follow the [official guide](https://code.visualstudio.com/api/working-with-extensions/publishing-extension#create-a-publisher).
4.  **Personal Access Token (PAT):** Generate a PAT from your Azure DevOps organization.
    *   Go to `User settings` -> `Personal access tokens`.
    *   Create a new token.
    *   Set **Organization** to `All accessible organizations`.
    *   Set **Scopes** to `Custom defined`.
    *   Click `Show all scopes` and select `Marketplace` -> `Manage`.
    *   Copy the generated token securely. You won't see it again.

## First-Time Publishing

1.  **Login:** Log in to `vsce` using your publisher ID and the PAT you created. Replace `<publisherName>` with your actual publisher ID.
    ```bash
    vsce login <publisherName>
    ```
    Paste your PAT when prompted.

2.  **Check `package.json`:** Ensure your `package.json` has the correct `publisher`, `name`, `version`, and other relevant details (like `repository`, `icon`, `categories`, etc.).

3.  **Package:** Create the extension package (`.vsix` file).
    ```bash
    vsce package
    ```
    This will generate a file like `connectfourbreak-x.y.z.vsix`.

4.  **Publish:** Upload the extension to the Marketplace.
    ```bash
    vsce publish
    ```
    *Note: If you prefer to upload manually via the web interface, you can use the `.vsix` file generated by `vsce package`.*

## Updating the Extension

1.  **Increment Version:** Open `package.json` and increment the `version` field (e.g., from `0.0.1` to `0.0.2` or `0.1.0`). Follow semantic versioning principles if applicable.

2.  **Update Changelog:** Add details about the changes in `CHANGELOG.md`.

3.  **Package:** Create the updated extension package.
    ```bash
    vsce package
    ```

4.  **Publish:** Upload the new version to the Marketplace.
    ```bash
    vsce publish
    ```

    *Alternatively, you can combine packaging and publishing:*
    ```bash
    vsce publish <major|minor|patch>
    ```
    *This command automatically increments the version in `package.json`, packages, and publishes.*

## Useful Commands

*   `vsce ls-publishers`: List publishers associated with your account.
*   `vsce unpublish <publisher>.<extension>`: Remove an extension (use with caution).

Refer to the [official VS Code Publishing Documentation](https://code.visualstudio.com/api/working-with-extensions/publishing-extension) for more details.
